jQuery(function(t){t("body").on("click",".ywrr-send-test-email",function(){var r=t(this).parent(),a=t("#ywrr_email_test").attr("value"),s=t("#ywrr_mail_template").val()||"base";if(r.find(".ywrr-ajax-result").remove(),r.append('<div class="ywrr-ajax-result"></div>'),/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)){var e={action:"ywrr_send_test_mail",email:a,template:s};r.find(".ywrr-ajax-result").addClass("progress").html(ywrr_admin.before_send_test_email),t.post(ywrr_admin.ajax_url,e,function(a){r.find(".ywrr-ajax-result").removeClass("progress").addClass(!0===a.success?"success":"fail").html(a.message)})}else r.find(".ywrr-ajax-result").addClass("fail").html(ywrr_admin.mail_wrong)}).on("click",".ywrr-add-blocklist",function(){var r=t(this).parent(),s=t("#add_to_blocklist");if(r.find(".ywrr-ajax-result").remove(),r.append('<div class="ywrr-ajax-result"></div>'),/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(s.attr("value"))){var a={action:"ywrr_add_to_blocklist",email:s.attr("value")};r.find(".ywrr-ajax-result").addClass("progress").html(ywrr_admin.please_wait),t.post(ywrr_admin.ajax_url,a,function(a){r.find(".ywrr-ajax-result").removeClass("progress").addClass(!0===a.success?"success":"fail").html(a.message),!0===a.success&&(s.attr("value",""),t.post(document.location.href,function(a){if(""!==a){var r=t("<div></div>").html(a).find("#custom-table");t("#custom-table").html(r.html())}}))})}else r.find(".ywrr-ajax-result").addClass("fail").html(ywrr_admin.mail_wrong)})});